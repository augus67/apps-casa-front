
<app-alert [alerts]="alerts" ></app-alert>

<div class="container mt-2">
  <div class="card card-block">

    <nav class="navbar navbar-dark bg-inverse mb-1">
      <h6 class="navbar-brand mb-0 text-dark">Lista de Tiendas</h6>
    </nav>
    <p-table [value]="tiendas" dataKey="idTienda" editMode="row" [responsive]="true" [paginator]="true" [rows]="filas" [rowsPerPageOptions]=[5,10,15,20]
      [totalRecords]="totalFilas" [pageLinks]="3">
      <ng-template pTemplate="header">
        <tr>
            <th style="width: 5em;">ID</th>
            <th style="width: 15em;">Nombre</th>
            <th style="width: 20em;">Dirección</th>
            <th style="width: 9em;">Teléfono</th>
            <th style="width: 8em;">Fecha Alta</th>
            <th style="width: 12em;">Fecha Modificación</th>
            <th style="width: 10em">Acciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-tienda let-editing="editing" let-ri="rowIndex">
        <tr [pEditableRow]="tienda">
            <td>
                {{tienda.idTienda}}
            </td>
            <td>
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText type="text" [(ngModel)]="tienda.desTienda" required style="width: 100%;">
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{tienda.desTienda}}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td>
                <p-cellEditor>
                    <ng-template pTemplate="input">
                      <input pInputText type="text" [(ngModel)]="tienda.direccion" style="width: 100%;">
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{tienda.direccion}}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input pInputText type="text" [(ngModel)]="tienda.telefono"style="width: 100%;">
                  </ng-template>
                  <ng-template pTemplate="output">
                      {{tienda.telefono}}
                  </ng-template>
                </p-cellEditor>
            </td>
            <td>
                {{tienda.fechaAlta | date:'dd-MM-yyyy'}}
            </td>
            <td>
                {{tienda.fechaUltMod | date:'dd-MM-yyyy HH:mm:ss'}}
              </td>
              <td style="text-align:center; padding: 0.5em 0;">
                <button *ngIf="!editing" pButton type="button" pInitEditableRow icon="pi pi-pencil" class="ui-button-info"
                  (click)="onRowEditInit(tienda)" title="Seleccionar"></button>
                <button *ngIf="editing" pButton type="button" pSaveEditableRow icon="pi pi-check" class="ui-button-success" style="margin-right: .5em"
                  (click)="onRowEditSave(tienda)" title="Guardar"></button>
                <button *ngIf="editing" pButton type="button" pCancelEditableRow icon="pi pi-times" class="ui-button-danger" style="margin-right: .5em"
                  (click)="onRowEditCancel(tienda, ri)" title="Cancelar"></button>
                  <button *ngIf="editing" pButton type="button" icon="pi pi-trash" class="ui-button-warning" style="color: #FFF;"
                  (click)="onRowDelete(tienda)" title="Borrar"></button>
              </td>
            </tr>
        </ng-template>
    </p-table>

  </div>
</div>


